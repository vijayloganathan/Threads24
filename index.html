<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
    <title>QR Code Scanner</title>
</head>
<body>
    <h1>QR Code Scanner</h1>
    <video id="scanner" style="width:100%; height:100%;"></video>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Check if the browser supports getUserMedia
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                alert('Your browser does not support the camera API');
            } else {
                // Initialize the QR code scanner
                let scanner = new Instascan.Scanner({ video: document.getElementById('scanner'), mirror: false });

                // Attach a function to handle scanned QR codes
                scanner.addListener('scan', function (content) {
                    alert('Scanned: ' + content);
                });

                // Start the camera and scanner
                Instascan.Camera.getCameras().then(function (cameras) {
                    if (cameras.length > 0) {
                        scanner.start(cameras[0]);
                    } else {
                        console.error('No cameras found.');
                    }
                }).catch(function (e) {
                    console.error(e);
                });
            }
        });
    </script>
</body>
</html>
